<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <!-- <link rel="stylesheet" href="css/output.css"> -->
    <link rel="stylesheet" href="css/output.css">
</head>
<body class="bg-black text-white">
    <header class="flex justify-between items-center p-8 border mb-8 sticky top-0">
        <span class="text-5xl w-max">Short My URL</span>
        <nav class="flex justify-center border">
            <ul class="flex gap-8 w-full">
                <a href="#enter-url" class="p-2 border"><li>short url</li></a>
                <a href="#analytics" class="p-2 border"><li>analytics</li></a>
            </ul>
        </nav>
    </header>
    <div id="enter-url" class="form flex p-8 mb-8 justify-center">
        <form action="" method="post" class="w-1/2 flex gap-4 flex-col items-center">
            <input type="url" placeholder="Enter your URL" name="redirectURL" id="" class="p-2 rounded-md bg-transparent w-full border outline-none" required>
            <button type="submit" class="p-2 rounded-md bg-transparent border">Shorten</button>
        </form>
    </div>
    <div id="analytics" class="flex justify-center overflow-auto">
        <table class="border w-full text-center table-fixed">
            <thead>
                <th class="text-3xl p-4 border">URL</th>
                <th class="text-3xl p-4 border">Shortened URL</th>
                <th class="text-3xl p-4 border">Total Clicks</th>
            </thead>
            <tbody>
                <% if (locals.allUrls) { %>
                    <% allUrls.forEach(element => { %>
                        <tr>
                            <td class="border p-4">
                                <a href= <%= element.redirectURL %> target="_blank" rel="noopener noreferrer"><%= element.redirectURL %></a>
                            </td>
                            <td class="border p-4">
                                <a href= <%= `${locals.domain}/${element.id}` %> target="_blank" rel="noopener noreferrer">
                                    <%= `${locals.domain}/${element.id}` %>
                                </a>
                            </td>
                            <td class="border p-4"><%= element.history.length %></td>
                        </tr>
                    <% }) %>
                <% } %>
            </tbody>
        </table>
    </div>
</body>
</html>